# 系统设置页面说明

## 概述
系统设置页面用于管理系统的基础配置、权限设置、通知配置和集成管理，提供完整的系统管理功能。

## 功能特性

### 1. 标签页设计
- **基本设置**：系统信息、界面设置、用户默认设置、安全设置、数据存储
- **系统配置**：系统配置项管理
- **权限设置**：用户权限和角色管理
- **通知设置**：邮件、短信等通知配置
- **集成管理**：第三方系统集成配置

### 2. 基本设置功能

#### 系统信息
- **系统名称**：接口自动化管理系统
- **部署模式**：私有化部署/云端部署/混合部署
- **系统版本**：V2.5.3 + 检查更新按钮
- **系统ID**：API-OPS-202405-1234
- **系统描述**：多行文本描述

#### 界面设置
- **主题色选择**：蓝色(默认)/绿色/紫色/橙色
- **布局选项**：侧边布局/顶部布局/右侧布局（可视化预览）
- **表格密度**：紧凑/标准/宽松
- **自定义主题色**：#2C6FD1颜色选择器
- **语言设置**：简体中文/English/繁體中文
- **主题模式**：浅色模式/深色模式/跟随系统
- **动画效果**：开关控制

#### 用户默认设置
- **默认首页**：仪表盘/用例管理/报告中心
- **默认项目视图**：列表视图/卡片视图/树形视图
- **默认分页大小**：10条/页、20条/页、50条/页
- **时间格式**：YYYY-MM-DD HH:mm:ss等格式
- **复选框选项**：
  - 启用自动保存功能 (每5分钟)
  - 登录后显示欢迎页
  - 记住上次打开的标签页

#### 安全设置
- **密码策略**：高强度密码要求（只读显示）
- **登录IP限制**：关闭/配置白名单
- **会话超时**：30分钟（可调整）
- **登录失败处理**：5次失败后锁定账户30分钟
- **双因素认证**：开关控制

#### 数据存储
- **数据保留周期**：30天（只读显示）
- **备份策略**：每日备份/每周备份/每月备份
- **日志级别**：详细(Debug)/信息(Info)/警告(Warn)/错误(Error)
- **日志存储路径**：/var/log/apiops/ + 浏览按钮

### 3. 系统配置功能

#### 配置列表管理
- **配置项表格**：配置项、当前值、操作列
- **添加配置**：新增系统配置项
- **编辑配置**：修改现有配置
- **删除配置**：删除配置项（需确认）

#### 预设配置项
- 系统名称：企业管理系统V2.0
- 系统语言：简体中文
- 数据备份周期：每日
- 最大文件上传大小：50 MB
- 允许的文件类型：.jpg, .png, .pdf, .doc, .xls
- 账号闲置锁定时间：30分钟
- 密码过期时间：90天

### 4. 其他标签页
- **权限设置**：用户权限和角色管理（待实现）
- **通知设置**：邮件、短信等通知配置（待实现）
- **集成管理**：第三方系统集成配置（待实现）

### 5. 操作功能
- **保存设置**：保存所有基本设置
- **恢复默认**：重置为默认设置（需确认）

## 技术实现

### 组件结构
```
Settings.vue
├── 面包屑导航
├── 标签页容器
│   ├── 基本设置标签页
│   │   ├── 系统信息
│   │   ├── 界面设置
│   │   ├── 用户默认设置
│   │   ├── 安全设置
│   │   └── 数据存储
│   ├── 系统配置标签页
│   │   ├── 配置说明
│   │   └── 配置列表表格
│   ├── 权限设置标签页
│   ├── 通知设置标签页
│   └── 集成管理标签页
├── 底部操作按钮
├── 添加配置对话框
└── 编辑配置对话框
```

### API接口
位置：`src/api/settings.js`

#### 基本设置接口
- `getBasicSettings()` - 获取基本设置
- `updateBasicSettings(data)` - 更新基本设置

#### 系统配置接口
- `getSystemConfigs(params)` - 获取系统配置列表
- `addSystemConfig(data)` - 添加系统配置
- `updateSystemConfig(id, data)` - 更新系统配置
- `deleteSystemConfig(id)` - 删除系统配置

#### 其他功能接口
- `getPermissionSettings()` - 获取权限设置
- `getNotificationSettings()` - 获取通知设置
- `getIntegrationSettings()` - 获取集成设置
- `testEmailConfig(data)` - 测试邮件配置
- `testSmsConfig(data)` - 测试短信配置
- `getSystemInfo()` - 获取系统信息
- `checkSystemUpdate()` - 检查系统更新
- `backupSystemData(data)` - 备份系统数据
- `exportSystemConfig()` - 导出系统配置
- `importSystemConfig(formData)` - 导入系统配置

### 数据结构
```javascript
// 基本设置数据
{
  systemName: '接口自动化管理系统',
  deploymentMode: 'private',
  systemVersion: 'V2.5.3',
  systemId: 'API-OPS-202405-1234',
  systemDescription: '...',
  themeColor: 'blue',
  layout: 'sidebar',
  tableDensity: 'standard',
  customColor: '#2C6FD1',
  language: 'zh-CN',
  themeMode: 'light',
  animationEnabled: true,
  defaultHomepage: 'dashboard',
  defaultProjectView: 'list',
  defaultPageSize: '10',
  timeFormat: 'YYYY-MM-DD HH:mm:ss',
  autoSave: true,
  showWelcomePage: true,
  rememberTabs: true,
  passwordPolicy: '高强度 (至少8位,包含大小写字母、数字和特殊字符)',
  ipRestriction: 'off',
  sessionTimeout: 30,
  maxFailures: 5,
  lockoutDuration: 30,
  twoFactorAuth: true,
  dataRetention: '30天',
  backupStrategy: 'daily',
  logLevel: 'debug',
  logPath: '/var/log/apiops/'
}

// 系统配置数据
{
  id: 1,
  name: '系统名称',
  value: '企业管理系统V2.0',
  description: '系统显示名称'
}
```

## 使用方法

### 访问页面
导航至：`/settings` 或点击左侧菜单"系统设置"

### 基本设置
1. **系统信息**：
   - 修改系统名称和描述
   - 选择部署模式
   - 点击"检查更新"检查版本

2. **界面设置**：
   - 选择主题色和布局
   - 调整表格密度
   - 设置自定义主题色
   - 选择语言和主题模式
   - 开启/关闭动画效果

3. **用户默认设置**：
   - 设置默认首页和项目视图
   - 选择默认分页大小
   - 设置时间格式
   - 配置用户偏好选项

4. **安全设置**：
   - 查看密码策略
   - 配置IP限制
   - 设置会话超时
   - 配置登录失败处理
   - 开启/关闭双因素认证

5. **数据存储**：
   - 查看数据保留周期
   - 选择备份策略
   - 设置日志级别
   - 配置日志存储路径

### 系统配置
1. **查看配置列表**：
   - 浏览所有系统配置项
   - 查看当前配置值

2. **添加配置**：
   - 点击"添加配置"按钮
   - 填写配置项名称、值和描述
   - 点击"确定"保存

3. **编辑配置**：
   - 点击配置行的"编辑"按钮
   - 修改配置值
   - 点击"确定"保存

4. **删除配置**：
   - 点击配置行的"删除"按钮
   - 确认删除操作

### 保存和恢复
1. **保存设置**：点击"保存设置"按钮保存所有更改
2. **恢复默认**：点击"恢复默认"按钮重置为默认设置

## 样式设计

### 布局特点
- **标签页设计**：清晰的功能分类
- **网格布局**：响应式的设置项排列
- **分组设计**：相关设置项分组显示
- **可视化预览**：布局选项的可视化展示

### 颜色方案
- 主色调：蓝色 (#409eff)
- 成功：绿色 (#67c23a)
- 警告：橙色 (#e6a23c)
- 危险：红色 (#f56c6c)
- 信息：蓝色 (#409eff)

### 交互效果
- 布局预览悬停效果
- 颜色选择器交互
- 开关切换动画
- 对话框动画

## 开发说明

### 模拟数据
页面包含完整的模拟数据，包括：
- 完整的基本设置默认值
- 7个预设的系统配置项
- 所有设置项的初始值

### 表单验证
- 配置项名称必填验证
- 配置值必填验证
- 数值范围验证
- 格式验证

### 扩展功能
可以考虑添加：
- 实时预览功能
- 设置导入导出
- 配置模板管理
- 系统监控面板
- 日志查看功能
- 备份恢复功能

## 注意事项

1. **权限控制**：确保只有管理员可以修改系统设置
2. **数据安全**：敏感设置需要加密存储
3. **操作确认**：重要操作需要确认
4. **设置验证**：前端和后端都需要验证
5. **备份策略**：重要设置变更前自动备份

## 后续优化

- [ ] 实现权限设置功能
- [ ] 实现通知设置功能
- [ ] 实现集成管理功能
- [ ] 添加设置导入导出
- [ ] 实现实时预览功能
- [ ] 添加系统监控面板
- [ ] 实现日志查看功能
- [ ] 添加配置模板管理
