# 人员管理页面说明

## 概述
人员管理页面用于管理系统用户、角色权限和项目分配，提供完整的用户生命周期管理功能。

## 功能特性

### 1. 标签页设计
- **用户管理**：管理用户账户、角色和状态
- **项目分配**：管理用户与项目的关联关系

### 2. 用户管理功能

#### 用户列表展示
- **姓名**：用户头像 + 姓名显示
- **邮箱**：用户邮箱地址
- **角色**：管理员/开发人员/测试人员（带颜色标签）
- **状态**：活跃/已禁用/待激活（带颜色标签）
- **创建时间**：用户创建时间
- **操作**：编辑、启用/禁用/激活、删除按钮

#### 搜索和筛选
- **搜索功能**：按姓名或邮箱搜索用户
- **筛选条件**：按状态筛选（全部/活跃/已禁用/待激活）

#### 用户操作
- **创建用户**：添加新用户账户
- **编辑用户**：修改用户信息
- **状态管理**：
  - 启用/禁用用户
  - 激活待激活用户
- **删除用户**：删除用户账户（需确认）

### 3. 创建用户对话框
- **基本信息**：姓名、邮箱、角色
- **密码设置**：密码和确认密码
- **状态选择**：活跃/待激活
- **表单验证**：完整的输入验证

### 4. 编辑用户对话框
- **基本信息**：姓名、邮箱、角色
- **状态管理**：活跃/已禁用/待激活
- **表单验证**：输入格式验证

### 5. 项目分配功能
- 项目分配管理界面（待实现）
- 用户与项目的关联管理

## 技术实现

### 组件结构
```
Personnel.vue
├── 面包屑导航
├── 标签页容器
│   ├── 用户管理标签页
│   │   ├── 操作区域（创建按钮 + 搜索筛选）
│   │   ├── 用户列表表格
│   │   └── 分页组件
│   └── 项目分配标签页
├── 创建用户对话框
└── 编辑用户对话框
```

### API接口
位置：`src/api/personnel.js`

#### 用户管理接口
- `getUserList(params)` - 获取用户列表
- `getUserDetail(id)` - 获取用户详情
- `createUser(data)` - 创建用户
- `updateUser(id, data)` - 更新用户
- `deleteUser(id)` - 删除用户
- `toggleUserStatus(id, enabled)` - 切换用户状态

#### 权限管理接口
- `getUserPermissions(id)` - 获取用户权限
- `updateUserPermissions(id, permissions)` - 更新用户权限
- `getRoleList()` - 获取角色列表
- `createRole(data)` - 创建角色
- `updateRole(id, data)` - 更新角色
- `deleteRole(id)` - 删除角色

#### 项目分配接口
- `getUserProjects(id)` - 获取用户项目
- `updateUserProjects(id, projectIds)` - 更新用户项目

#### 其他功能接口
- `batchOperateUsers(data)` - 批量操作用户
- `exportUsers(params)` - 导出用户列表
- `importUsers(formData)` - 导入用户
- `getUserStatistics(params)` - 获取用户统计
- `getUserActivityLog(id, params)` - 获取用户活动日志

### 数据结构
```javascript
// 用户数据
{
  id: 1,                              // 用户ID
  name: '李明',                       // 姓名
  email: 'liming@example.com',        // 邮箱
  role: '管理员',                     // 角色
  status: 'active',                   // 状态
  createTime: '2023-12-05 14:30',     // 创建时间
  avatar: ''                          // 头像
}

// 创建用户表单
{
  name: '',                           // 姓名
  email: '',                          // 邮箱
  role: '',                           // 角色
  password: '',                       // 密码
  confirmPassword: '',                // 确认密码
  status: 'active'                    // 状态
}
```

## 使用方法

### 访问页面
导航至：`/personnel` 或点击左侧菜单"人员管理"

### 用户管理
1. **查看用户列表**：
   - 浏览所有用户信息
   - 使用搜索框查找特定用户
   - 使用筛选条件过滤用户

2. **创建用户**：
   - 点击"创建新用户"按钮
   - 填写用户基本信息
   - 设置密码和状态
   - 点击"确定"创建

3. **编辑用户**：
   - 点击用户行的"编辑"按钮
   - 修改用户信息
   - 点击"确定"保存

4. **管理用户状态**：
   - 点击"禁用"按钮禁用用户
   - 点击"启用"按钮启用用户
   - 点击"激活"按钮激活待激活用户

5. **删除用户**：
   - 点击"删除"按钮
   - 确认删除操作

### 项目分配
1. 切换到"项目分配"标签页
2. 管理用户与项目的关联关系
3. 分配或取消项目权限

## 样式设计

### 布局特点
- **标签页设计**：清晰的功能分类
- **响应式布局**：适配不同屏幕尺寸
- **卡片式设计**：清晰的信息分层
- **表格展示**：结构化的数据展示

### 颜色方案
- **角色标签**：
  - 管理员：红色 (#f56c6c)
  - 开发人员：蓝色 (#409eff)
  - 测试人员：绿色 (#67c23a)
- **状态标签**：
  - 活跃：绿色 (#67c23a)
  - 已禁用：红色 (#f56c6c)
  - 待激活：橙色 (#e6a23c)

### 交互效果
- 按钮悬停效果
- 对话框动画
- 表格行悬停
- 状态切换动画

## 开发说明

### 模拟数据
页面包含完整的模拟数据，包括：
- 6个示例用户
- 不同的角色和状态
- 完整的用户信息

### 表单验证
- 姓名必填验证
- 邮箱格式验证
- 密码长度验证
- 确认密码一致性验证

### 扩展功能
可以考虑添加：
- 用户头像上传
- 批量导入用户
- 用户权限管理
- 用户活动日志
- 密码策略配置
- 用户组管理

## 注意事项

1. **权限控制**：确保只有管理员可以管理用户
2. **数据安全**：密码需要加密存储
3. **操作确认**：删除和禁用操作需要确认
4. **表单验证**：前端和后端都需要验证
5. **状态管理**：正确处理用户状态转换

## 后续优化

- [ ] 实现项目分配功能
- [ ] 添加用户权限管理
- [ ] 实现批量操作
- [ ] 添加用户活动日志
- [ ] 实现用户头像上传
- [ ] 添加密码策略配置
- [ ] 实现用户组管理
- [ ] 添加用户导入导出功能
